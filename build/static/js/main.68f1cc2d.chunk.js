(this.webpackJsonpStudioSession=this.webpackJsonpStudioSession||[]).push([[2],{115:function(e,t,n){"use strict";n(178);var a=n(152),r=n(0),c=n.n(r),o={padding:"40px 0"};t.a=function(){return c.a.createElement("div",{className:"center-progress",style:o},c.a.createElement(a.a,{size:"large"}))}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return m}));var a=n(34),r=n.n(a),c=(n(71),n(56).a.cookies);function o(){r.a.remove(c.name)}function s(e){console.log("at cokkie set",e);try{var t={};e.accessToken&&(t.authKey=e.accessToken),e.user&&e.user.email&&(t.email=e.user.email),e.user&&e.user.firstName&&(t.firstName=e.user.firstName),e.user&&e.user.dob&&(t.dob=e.user.dob),e.user&&e.user.lastName&&(t.lastName=e.user.lastName),e.user&&e.user.Dob&&(t.Dob=e.user.Dob),e.user&&e.user.imgUrl&&(t.imgUrl=e.user.imgUrl),e.customer&&e.customer.id&&(t.id=e.customer.id),e.customer&&e.customer.otp_verified&&(t.otp_verified=e.customer.otp_verified),r.a.set(c.name,t,{expires:c.expiry})}catch(n){console.error(n)}}function i(e){var t=r.a.getJSON(c.name);e.user&&e.user.email&&(t.email=e.user.email),e.user&&e.user.firstName&&(t.firstName=e.user.firstName),e.user&&e.user.dob&&(t.dob=e.user.dob),e.user&&e.user.lastName&&(t.lastName=e.user.lastName),e.user&&e.user.imgUrl&&(t.imgUrl=e.user.imgUrl),e.user&&e.user.Dob&&(t.Dob=e.user.Dob),e.fcm&&(t.fcm=e.fcm),r.a.set(c.name,t,{expires:c.expiry})}function u(){var e=r.a.getJSON(c.name);if(e)return e.email}function l(){var e=r.a.getJSON(c.name);if(e)return e}function m(){return r.a.getJSON(c.language)||"eng"}},184:function(e,t,n){e.exports=n(295)},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(71),r=(n(110),n(40),n(163),n(56),n(17));function c(e){var t=a.reactLocalStorage.getObject("languageData"),n="",c=Object(r.d)();if(t&&t.length){var o=t.find((function(t){return t.key===e}));o&&(n=o.data[c])}return n}function o(e){return e.replace(/[^\w\s]/gi,"")}},294:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=n(22),i=n(23),u=n(33),l=n(32),m=n(58),p=n(53),f=n(90),d=n(14),h=n(3),b=n.n(h),g=n(7),v=n(165),O=n(115);function j(e){return function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(e){var t;return Object(s.a)(this,a),(t=n.call(this,e)).state={component:null,loading:!0},t}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidMount",value:function(){var t=Object(g.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/"===window.location.pathname&&this.setState({loading:!1}),this.mounted=!0,t.next=4,e();case 4:n=t.sent,a=n.default,this.mounted&&this.setState({component:r.a.createElement(a,this.props),loading:!1});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component||r.a.createElement("main",{className:"main-inner-wrapper"},r.a.createElement(v.Helmet,null,r.a.createElement("title",null,"Handshake - ",this.props.settings&&this.props.settings.title?this.props.settings.title:" ","  ")),r.a.createElement("div",{className:"container"}));return this.state.loading?r.a.createElement("div",{className:"page-loader"},r.a.createElement(O.a,null)):e}}]),a}(a.Component)}var w=n(8),k=(n(270),n(167)),E=(n(273),n(111)),y=n(42),x=(n(181),n(124)),N=n(19),S=n(27),U=n(17),I=(x.a.Option,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleLangChange=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRedirect=function(){p.a.push("/")},a.state={menuIsOpen:!1,searchIsOpen:!1,searchKeyword:"",lang:"eng"},a.menuHandler=a.menuHandler.bind(Object(y.a)(a)),a.menuItemHandler=a.menuItemHandler.bind(Object(y.a)(a)),a.searchHandler=a.searchHandler.bind(Object(y.a)(a)),a.searchStudios=a.searchStudios.bind(Object(y.a)(a)),a.searchOnChange=a.searchOnChange.bind(Object(y.a)(a)),a}return Object(i.a)(n,[{key:"logout",value:function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.logout();case 3:p.a.push("/");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({lang:Object(U.d)()});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.language,this.state.lang);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"menuHandler",value:function(){this.setState({menuIsOpen:!this.state.menuIsOpen})}},{key:"menuItemHandler",value:function(){this.setState({menuIsOpen:!1})}},{key:"searchHandler",value:function(){this.setState({searchIsOpen:!this.state.searchIsOpen})}},{key:"searchOnChange",value:function(e){}},{key:"searchStudios",value:function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,n=r.a.createElement("div",{className:"header-profile-dropdown"},r.a.createElement("div",{className:"dropdown-header"},null!==t&&t.imgUrl?r.a.createElement("span",{className:"dp-block"},r.a.createElement("img",{src:t.imgUrl,alt:""})):r.a.createElement(E.a,{className:"dp-block profile-text-avatar"},t&&null!==t&&t.firstName?t.firstName.charAt(0).toUpperCase():"S"),r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:"name-block"},t&&null!==t&&t.firstName," ",t&&t.lastName),r.a.createElement("div",{className:"email-block"},t&&t.email))),r.a.createElement(N.a,{to:"/my-profile",className:"menu-item"},"My profile"),r.a.createElement(N.a,{to:"/notifications",className:"menu-item"},Object(S.a)("notifications")),r.a.createElement(N.a,{to:"/help",className:"menu-item"},Object(S.a)("help")),r.a.createElement(N.a,{to:"/faq",className:"menu-item"},"FAQ")," */}",r.a.createElement(N.a,{to:"/",className:"menu-item signout-btn",onClick:this.logout.bind(this)},Object(S.a)("logout")));return r.a.createElement("header",{className:"main-header",style:{height:"60px"}},r.a.createElement("div",{className:"left-block"},"Home"!==this.props.page&&r.a.createElement("button",{className:"btn icon-arrow-left app-back-btn",onClick:function(){return p.a.goBack()}}),r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.handleRedirect()},className:"logo-block"},r.a.createElement("img",{src:"/images/logo.png",alt:""}))),r.a.createElement("div",null),r.a.createElement("div",{className:"right-block"},r.a.createElement("button",{className:"btn icon-search toggle-search-btn",type:"button",onClick:this.searchHandler}),r.a.createElement("button",{className:"btn icon-menu toggle-menu-btn",type:"button",onClick:this.menuHandler}),t&&t.email?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"main-nav".concat(this.state.menuIsOpen?" open":"")},r.a.createElement(N.a,{to:"/add-studio",onClick:this.menuItemHandler,className:"menu-item"},"Home"),r.a.createElement(N.a,{to:"/messages",onClick:this.menuItemHandler,className:"menu-item"},"Messages")),r.a.createElement("div",{className:"my-profile-menu"},r.a.createElement(k.a,{className:"dropdown-block",overlay:n},t.imgUrl?r.a.createElement("span",{className:"dp-block"},r.a.createElement("img",{src:t.imgUrl,alt:""})):r.a.createElement(E.a,{className:"dp-block profile-text-avatar"},t.firstName?t.firstName.charAt(0).toUpperCase():"S")))):r.a.createElement("nav",{className:"main-nav".concat(this.state.menuIsOpen?" open":"")},r.a.createElement(N.a,{onClick:this.menuItemHandler,to:"/signup",className:"menu-item"},"Sign Up"),r.a.createElement(N.a,{onClick:this.menuItemHandler,to:"/login",className:"menu-item"},"Log In"))))}}]),n}(r.a.Component)),D=Object(m.b)((function(e){var t=e.user,n=e.studio;return Object(w.a)(Object(w.a)({},t),n)}),(function(e){var t=e.user,n=e.studio;return Object(w.a)(Object(w.a)({},t),n)}))(I),C=(n(174),n(123)),R=(n(172),n(82)),H=n(40),L=n.n(H),P=function(){return r.a.createElement("div",{className:"social-links"},r.a.createElement(N.a,{to:"/",className:"icon-instagram social-item"}),r.a.createElement(N.a,{to:"/",className:"icon-twitter social-item"}),r.a.createElement(N.a,{to:"/",className:"icon-facebook social-item"}),r.a.createElement(N.a,{to:"/",className:"icon-youtube social-item"}))},T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("div",{className:"container"},r.a.createElement(C.a,{type:"flex",gutter:24},r.a.createElement(R.a,{xs:12,sm:12,md:5,lg:4},r.a.createElement("h3",{className:"title-block uppercase"},Object(S.a)("company"))),r.a.createElement(R.a,{xs:12,sm:12,md:5,lg:4},r.a.createElement("h3",{className:"title-block uppercase"},Object(S.a)("learn_more")))),r.a.createElement(R.a,null,r.a.createElement("h3",{className:"title-block uppercase"},"Social"),r.a.createElement(P,null)),r.a.createElement("div",{className:"copy-right-block"},"\xa9 VAUT ",L()().format("YYYY")),r.a.createElement("small",{className:"copy-right-block"},"All Rights Reserved under VAUT Technologies")))}}]),n}(a.Component),W=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).refreshComp=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({refresh:!a.state.refresh});case 2:case"end":return e.stop()}}),e)}))),a.state={refresh:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.children,n=e.settings;return r.a.createElement(r.a.Fragment,null,n.topbar?r.a.createElement(D,{refreshComp:this.refreshComp,page:n.title,hideSearch:n.hideSearch}):null,r.a.createElement("div",{className:"app-body"},t),r.a.createElement(T,null))}}]),n}(a.Component),A=Object(m.b)((function(e){var t=e.user,n=e.studio;return Object(w.a)(Object(w.a)({},t),n)}),(function(e){var t=e.user,n=e.studio;return Object(w.a)(Object(w.a)({},t),n)}))(W),F=function(e){var t=e.component,n=e.layoutSettings,a=void 0===n?{}:n,c=Object(f.a)(e,["component","layoutSettings"]);return r.a.createElement(d.b,Object.assign({},c,{render:function(e){return Object(U.c)()?r.a.createElement(A,Object.assign({settings:a},e),r.a.createElement(t,Object.assign({},e,{settings:a}))):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},q=function(e){var t=e.component,n=e.layoutSettings,a=void 0===n?{}:n,c=Object(f.a)(e,["component","layoutSettings"]);return r.a.createElement(d.b,Object.assign({},c,{render:function(e){return Object(U.c)()?r.a.createElement(d.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(A,Object.assign({settings:a},e),r.a.createElement(t,Object.assign({},e,{settings:a})))}}))},M=function(e){var t=e.component,n=e.layoutSettings,a=void 0===n?{}:n,c=Object(f.a)(e,["component","layoutSettings"]);return r.a.createElement(d.b,Object.assign({},c,{render:function(e){return r.a.createElement(A,{settings:a},r.a.createElement(t,Object.assign({},e,{settings:a})))}}))},G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement(d.c,{history:e},r.a.createElement(d.d,null,r.a.createElement(q,{exact:!0,path:"/login",layoutSettings:{title:"Login",topbar:!0},component:j((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,533))}))}),r.a.createElement(q,{exact:!0,path:"/signup",layoutSettings:{title:"Signin",topbar:!0},component:j((function(){return Promise.all([n.e(0),n.e(1),n.e(18)]).then(n.bind(null,534))}))}),r.a.createElement(q,{exact:!0,path:"/forgot-password",layoutSettings:{title:"Forgot password",topbar:!0},component:j((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,532))}))}),r.a.createElement(q,{exact:!0,path:"/reset-password",layoutSettings:{title:"Reset password",topbar:!0},component:j((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,535))}))}),r.a.createElement(M,{exact:!0,path:"/",layoutSettings:{title:"Home",topbar:!0,sidebar:!1},component:j((function(){return Promise.all([n.e(6),n.e(14)]).then(n.bind(null,536))}))}),r.a.createElement(F,{exact:!0,path:"/warningDetail/:id?",layoutSettings:{title:"Warning detail",topbar:!0,sidebar:!1},component:j((function(){return n.e(11).then(n.bind(null,527))}))}),r.a.createElement(F,{exact:!0,path:"/my-profile",layoutSettings:{title:"My Profile",topbar:!0,sidebar:!1},component:j((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(17)]).then(n.bind(null,528))}))}),r.a.createElement(F,{exact:!0,path:"/notifications",layoutSettings:{title:"Notifications",topbar:!0,sidebar:!1},component:j((function(){return Promise.all([n.e(7),n.e(12)]).then(n.bind(null,529))}))}),r.a.createElement(M,{exact:!0,path:"/cms/:type?",layoutSettings:{title:"",topbar:!0,sidebar:!1},component:j((function(){return n.e(13).then(n.bind(null,530))}))}),r.a.createElement(d.b,{component:j((function(){return Promise.all([n.e(9),n.e(15)]).then(n.bind(null,531))}))})))}}]),a}(a.Component),B=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,{store:p.b},r.a.createElement(G,{history:p.a,coords:this.props.coords}))}}]),n}(a.Component),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(293),n(294);o.a.render(r.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){var e=new URL("",window.location);if(e.origin!==window.location.origin)return void console.log(e.origin,window.location.origin);window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");J?(!function(e){fetch(e).then((function(t){console.log(e,t,"=========================================="),404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_(e)}))}}()},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return W}));var a={};n.r(a),n.d(a,"user",(function(){return C})),n.d(a,"cms",(function(){return L}));var r=n(160),c=n(3),o=n.n(c),s=n(7),i=n(8),u=(n(194),n(161).a),l=function(e,t,n){u[e]({message:t,description:n})},m=(n(22),n(23),n(296),n(27)),p=n(57),f=n.n(p),d=(n(253),n(255),n(258),f.a.initializeApp({apiKey:"AIzaSyB_ylaQk5Ti2A97iBP-nNZBi6jnd9jkD-k",authDomain:"handshake-362ff.firebaseapp.com",databaseURL:"https://handshake-362ff.firebaseio.com",projectId:"handshake-362ff",storageBucket:"handshake-362ff.appspot.com",messagingSenderId:"19521589112",appId:"1:19521589112:web:e1d89e7ff20dd27931828d",measurementId:"G-7M09K44HPB"})),h=d.firestore();n(40);function b(e){return h.collection("users").doc(Object(m.b)(e.email)).set(e)}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.collection("users").doc(Object(m.b)(t.email)),e.abrupt("return",n.update({Dob:t.dob,Fname:t.fname,Lname:t.lname}).then((function(e){return t})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=f.a.storage(),n=e.files;return new Promise((function(a,r){t.ref("/user/".concat(e.userId,"/profile")).put(n.originFileObj).then((function(n){console.log("Got download url: ",n),t.ref("/user/".concat(e.userId,"/profile")).getDownloadURL().then(function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.collection("users").doc(e.userId).update({imageUrl:n}).then((function(e){return a(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(e){throw r(e),e}))}))}function j(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=h.collection("users").doc(t).collection("Notifications"),e.next=4,a.get().then((function(e){e.forEach((function(e){n.push(Object(i.a)({id:e.id},e.data()))}))})).catch((function(e){throw e}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=h.collection("users").doc(t.docKey).collection("Notifications").doc(t.id),e.next=4,a.get().then((function(e){n=Object(i.a)({id:e.id},e.data())})).catch((function(e){throw e}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").doc(t.userId).collection("ratings").doc(t.studioId).set(t).then(function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("studios").doc(t.studioId).collection("ratings").doc(t.userId).set(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").doc(t.userId).collection("ratings").doc(t.studioId).get().then((function(e){return e.data()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=h.collection("devices")).where("pushToken","==",t.token).get().then((function(e){e.empty||e.forEach((function(e){n.doc(e.id).delete()}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=n(17);n(56);console.log(f.a.messaging.isSupported(),"================="),f.a.messaging.isSupported();var C={state:{user:Object(D.b)()||{},loading:!1,imgUrl:"",userRating:0,warningDetail:{},warnings:[]},reducers:{onRequest:e=>Object(i.a)(Object(i.a)({},e),{},{loading:!0}),onError:(e,t)=>(l("error",t.message),Object(i.a)(Object(i.a)({},e),{},{loading:!1})),onLoginSuccess:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{loading:!1,user:Object(D.b)(),imgUrl:t.user.imageUrl?t.user.imageUrl:""}),onLogoutSuccess:e=>Object(i.a)(Object(i.a)({},e),{},{user:null}),onUpdateSuccess:(e,t)=>(l("success","User Details Updated"),Object(i.a)(Object(i.a)({},e),{},{user:Object(D.b)()||{}})),onForgotSuccess:e=>(l("info","An Email has been sent"),Object(i.a)({},e)),updateLng:(e,t)=>Object(i.a)({},e),onUpload:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{imgUrl:t}),onGetWarnings:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{loading:!1,warnings:t}),onGetWarningDetail:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{loading:!1,warningDetail:t}),onGotUserRating:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{loading:!1,userRating:t?t.rating:0})},effects:{login(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){var a,r,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.onRequest(),t.prev=1,a={},r={},t.next=6,d.auth().signInWithEmailAndPassword(e.email,e.password);case 6:return c=t.sent,a.user={email:c.user.email,name:c.Fname+c.Lname?c.Lname:""},t.next=10,d.auth().onAuthStateChanged(function(){var t=Object(s.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=19;break}return console.log(c,"----"),t.next=4,c.getIdToken(!0);case 4:return a.accessToken=t.sent,a.refreshToken=c.refreshToken,t.next=8,o=e.email,h.collection("users").doc(Object(m.b)(o)).get().then((function(e){return e.exists?e.data():{}})).catch((function(e){throw e}));case 8:return r=t.sent,console.log("hey user ====",r),r.Dob=r&&r.Dob&&r.Dob.toDate(),a.user.Dob=r.Dob,a.user.firstName=r.Fname,a.user.lastName=r.Lname,a.user.imgUrl=r.imageUrl,t.next=17,Object(D.e)(a);case 17:return n.onLoginSuccess({user:r}),t.abrupt("return",a);case 19:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:return i=t.sent,t.next=13,i();case 13:return t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(1),t.t0.message="Invalid credentials",n.onError(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))()},logout(){var e=this;return Object(s.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Object(D.b)().fcm)){t.next=4;break}return t.next=4,U({token:n});case 4:return t.next=6,d.auth().signOut().then(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).catch((function(t){return e.onError(t)}));case 6:e.onLogoutSuccess();case 7:case"end":return t.stop()}}),t)})))()},updateInformation(e,t){var n=this;return Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.onRequest(),e.abrupt("return");case 5:throw e.prev=5,e.t0=e.catch(0),n.onError(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))()},registerUser(e){var t=this;return Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.onRequest(),n.prev=1,n.next=4,d.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(delete e.password,!a.user){n.next=9;break}return r={user:{email:e.email,Dob:e.Dob,firstName:e.Fname,lastName:e.Lname}},n.next=5,d.auth().onAuthStateChanged(function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.next=3,n.getIdToken(!0);case 3:r.accessToken=t.sent;case 4:return n&&(e.uid=n.uid),t.next=7,b(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return n.next=7,Object(D.e)(r);case 7:return t.onLoginSuccess(a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){t.onError(e)}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),t.onError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},firebaseForgetPassword(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.onRequest(),t.prev=1,t.next=4,d.auth().sendPasswordResetEmail(e.email).then((function(){return n.onForgotSuccess(!0),!0})).catch((function(){var e={message:"Invalid Email"};return n.onError(e),!1}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n.onError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},updateProfile(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={user:{}},n.prev=1,n.next=4,g(e);case 4:return(r=n.sent).Dob=r&&r.dob&&r.dob,a.user.Dob=r.Dob,a.user.firstName=r.fname,a.user.lastName=r.lname,n.next=11,Object(D.f)(a);case 11:return t.onUpdateSuccess(r),n.abrupt("return");case 15:n.prev=15,n.t0=n.catch(1),t.onError(n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,15]])})))()},uploadProfileImage(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(a=O(e)).then(function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)({user:{imgUrl:n}});case 2:t.onUpload(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.abrupt("return",a);case 6:n.prev=6,n.t0=n.catch(0),t.onError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},getWarnings(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,j(e);case 4:a=n.sent,t.onGetWarnings(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getWarningDetail(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,k(e);case 4:a=n.sent,t.onGetWarningDetail(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getRating(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,N(e);case 4:a=n.sent,t.onGotUserRating(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},updateRating:e=>Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})))()}};function R(e){return H.apply(this,arguments)}function H(){return(H=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("cms").doc(t.type).collection(t.language).doc(t.type+"_"+t.language).get().then((function(e){return!e.empty&&Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L={state:{cms:{},loading:!1},reducers:{onRequest:e=>Object(i.a)(Object(i.a)({},e),{},{loading:!0}),onError:(e,t)=>(l("error",t.message),Object(i.a)(Object(i.a)({},e),{},{loading:!1})),onGetCMS:(e,t)=>Object(i.a)(Object(i.a)({},e),{},{loading:!1,cms:t})},effects:{getCMS(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.onRequest(),t.prev=1,t.next=4,R(e);case 4:return a=t.sent,n.onGetCMS(a),t.abrupt("return");case 9:t.prev=9,t.t0=t.catch(1),n.onError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},P=n(25),T=n(164),W=Object(P.a)();W.listen((function(e,t){window.scrollTo(0,0)}));var A=[Object(T.routerMiddleware)(W)],F=Object(r.init)({redux:{devtoolOptions:{disabled:!0},middlewares:A},models:a})},56:function(e,t,n){"use strict";var a=n(8),r={routes:{home:"/"},logoURL:"",defaultLimit:10,api:"".concat("","/v1")};t.a=Object(a.a)(Object(a.a)({},r),{cookies:{name:"handshake",language:"lng",expiry:7,domain:""}})}},[[184,3,4]]]);