(this.webpackJsonpStudioSession=this.webpackJsonpStudioSession||[]).push([[18],{534:function(e,a,t){"use strict";t.r(a);var r=t(3),s=t.n(r),n=t(7),i=t(22),o=t(23),l=t(42),c=t(33),p=t(32),m=t(8),u=t(0),d=t.n(u),b=t(58),h=(t(174),t(123)),f=(t(168),t(72)),w=(t(346),t(345)),v=(t(172),t(82)),j=(t(302),t(306)),g=(t(303),t(305)),O=t(27),E=g.a.Item,y=function(e){Object(c.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).checkPassword=function(e,a,t){r.props.form.getFieldValue("password")&&a&&a!==r.props.form.getFieldValue("password")?t(Object(O.a)("v_repeat_password_valid")):t()},r.state={type:"password",icon:"passowrd-hide",loading:!1,phone:null,validation:!1},r.handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r}return Object(o.a)(t,[{key:"showHide",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({type:"text"===this.state.type?"password":"text"}),this.setState({icon:"passowrd-hide"===this.state.icon?"passowrd-show":"passowrd-hide"})}},{key:"handleSubmit",value:function(){var e=Object(n.a)(s.a.mark((function e(a){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.setState({loading:!0});case 3:this.props.form.validateFields(function(){var e=Object(n.a)(s.a.mark((function e(a,r){var n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,t.props.form.getFieldValue("email")&&!1===n.test(t.props.form.getFieldValue("email"))&&t.props.form.setFields({email:{value:r.email,errors:[new Error(Object(O.a)("v_email_valid"))]}}),a){e.next=10;break}if(a){e.next=8;break}return i={email:r.email,password:r.password,Fname:r.fname,Lname:r.lname?r.lname:"",Dob:new Date(r.dob),type:"user"},t.props.onSubmit(i),e.next=8,t.setState({loading:!1});case 8:e.next=11;break;case 10:console.error(a);case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(n.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(g.a,{className:"basic-form",onSubmit:this.handleSubmit},d.a.createElement(h.a,{gutter:20,type:"flex"},d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(E,{label:Object(O.a)("firstname")||"First name"},e("fname",{rules:[{required:!0,message:Object(O.a)("p_firstname")||"Enter your first name"}]})(d.a.createElement(j.a,{placeholder:Object(O.a)("p_firstname")||"Enter first name",type:"text",name:"loginMail"})))),d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(E,{label:Object(O.a)("lastname")||"Last name"},e("lname",{rules:[{required:!1,message:Object(O.a)("p_lastname")}]})(d.a.createElement(j.a,{placeholder:Object(O.a)("p_lastname")||"Enter last name",type:"text",name:"loginMail"})))),d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(E,{label:"".concat(Object(O.a)("v_email")||"Email")},e("email",{rules:[{required:!0,message:Object(O.a)("v_email")||"Please enter your Email ID"}]})(d.a.createElement(j.a,{placeholder:Object(O.a)("v_email")||"Enter Email",type:"text",name:"loginMail"})))),d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(g.a.Item,{label:Object(O.a)("dob")||"Date of Birth"},e("dob",{rules:[{type:"object",required:!0,message:Object(O.a)("dob")||"Please select your date of birth!"}]})(d.a.createElement(w.a,{placeholder:Object(O.a)("select_date")||"Select date"})))),d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(E,{label:"Password"},e("password",{rules:[{required:!0,message:Object(O.a)("v_password")||"Please enter your password"},{min:8,message:Object(O.a)("v_password")}]})(d.a.createElement(j.a.Password,{className:"input-field",type:this.state.type,placeholder:Object(O.a)("v_password")||"Please enter your password",id:"loginPassword",autoComplete:"password"})))),d.a.createElement(v.a,{xs:24,sm:12},d.a.createElement(E,{label:"Confirm Password"},e("confirm_password",{rules:[{required:!0,message:Object(O.a)("p_repeat_password")||"Please enter your confirm password"},{validator:this.checkPassword}]})(d.a.createElement(j.a.Password,{className:"input-field",type:this.state.type,placeholder:Object(O.a)("p_repeat_password")||"Please re-enter your password",id:"ConfirmPassword",autoComplete:"ConfirmPassword"})))),d.a.createElement(v.a,{xs:24,sm:24},d.a.createElement(E,{style:{paddingTop:36}},d.a.createElement(f.a,{id:"signup",style:{background:"#FF69B4"},disabled:this.state.loading,loading:this.state.loading,htmlType:"submit",type:"primary",className:"submit-btn btn-has-icon uppercase btn-width-full"},Object(O.a)("signup_label")||"SIgnUp")))))}}]),t}(u.Component),_=g.a.create()(y),k=t(53),x=t(19),S=function(e){Object(c.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=a.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r}return Object(o.a)(t,[{key:"handleSubmit",value:function(){var e=Object(n.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.registerUser(a);case 2:this.props.user&&this.props.user.email&&k.a.push("/");case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return d.a.createElement("div",{className:"auth-bg"},d.a.createElement("div",{className:"auth-wrapper",elevation:4},d.a.createElement("div",{className:"auth-wrapper-inner auth-wrapper-inner--signup"},d.a.createElement("h1",{className:"title-block"},Object(O.a)("signup_your_account")),d.a.createElement("div",{className:"auth-form-block"},d.a.createElement(_,{onSubmit:this.handleSubmit,loading:this.props.loading,errorMessage:this.props.errorMessage,clearMessage:this.props.clearErrorMessage})),d.a.createElement("div",{className:"bottom-link-block"},d.a.createElement("span",{className:"text-block"},"".concat(Object(O.a)("already_have_acc")||"Already have an account"," ?")),d.a.createElement(x.a,{to:"/login",className:"auth-header-logo forward-link"},Object(O.a)("signin"))))))}}]),t}(u.Component);a.default=Object(b.b)((function(e){var a=e.user,t=e.studio;return Object(m.a)(Object(m.a)({},a),t)}),(function(e){var a=e.user,t=e.studio;return Object(m.a)(Object(m.a)({},a),t)}))(S)}}]);