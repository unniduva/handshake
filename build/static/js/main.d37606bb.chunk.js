(this.webpackJsonphandshake=this.webpackJsonphandshake||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(74),r=(n(138),n(43),n(158),n(72),n(15));function c(e){var t=a.reactLocalStorage.getObject("languageData"),n="",c=Object(r.d)();if(t&&t.length){var o=t.find((function(t){return t.key===e}));o&&(n=o.data[c])}return n}function o(){return new Promise((function(e,t){return navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):t("Geolocation is not supported by this browser.")}))}function s(e){return e.replace(/[^\w\s]/gi,"")}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return d}));var a=n(35),r=n.n(a),c=n(74),o=n(72).a.cookies;function s(){r.a.remove(o.name)}function i(e){console.log("at cokkie set",e);try{var t={};e.accessToken&&(t.authKey=e.accessToken),e.user&&e.user.email&&(t.email=e.user.email),e.user&&e.user.firstName&&(t.firstName=e.user.firstName),e.user&&e.user.dob&&(t.dob=e.user.dob),e.user&&e.user.lastName&&(t.lastName=e.user.lastName),e.user&&e.user.Dob&&(t.Dob=e.user.Dob),e.user&&e.user.imgUrl&&(t.imgUrl=e.user.imgUrl),e.customer&&e.customer.id&&(t.id=e.customer.id),e.customer&&e.customer.otp_verified&&(t.otp_verified=e.customer.otp_verified),r.a.set(o.name,t,{expires:o.expiry})}catch(n){console.error(n)}}function u(e){var t=r.a.getJSON(o.name);e.user&&e.user.email&&(t.email=e.user.email),e.user&&e.user.firstName&&(t.firstName=e.user.firstName),e.user&&e.user.dob&&(t.dob=e.user.dob),e.user&&e.user.lastName&&(t.lastName=e.user.lastName),e.user&&e.user.imgUrl&&(t.imgUrl=e.user.imgUrl),e.user&&e.user.Dob&&(t.Dob=e.user.Dob),e.fcm&&(t.fcm=e.fcm),r.a.set(o.name,t,{expires:o.expiry})}function l(){var e=r.a.getJSON(o.name);if(e)return e.email}function p(){var e=r.a.getJSON(o.name);if(e)return e}function m(e){r.a.set(o.language,e,{expires:365})}function f(){return r.a.getJSON(o.language)||"eng"}function d(e){e&&e.length&&c.reactLocalStorage.setObject("languageData",e)}},152:function(e,t,n){"use strict";n(261);var a=n(162),r=n(0),c=n.n(r),o={padding:"40px 0"};t.a=function(){return c.a.createElement("div",{className:"center-progress",style:o},c.a.createElement(a.a,{size:"large"}))}},180:function(e,t,n){e.exports=n(301)},300:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),s=n(25),i=n(26),u=n(34),l=n(32),p=n(33),m=n(61),f=n(54),d=n(91),h=n(50),b=n(2),g=n.n(b),v=n(4),O=n(161),w=n(152);function j(e){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(u.a)(this,Object(l.a)(n).call(this,e))).state={component:null,loading:!0},t}return Object(p.a)(n,t),Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/"===window.location.pathname&&this.setState({loading:!1}),this.mounted=!0,t.next=4,e();case 4:n=t.sent,a=n.default,this.mounted&&this.setState({component:r.a.createElement(a,this.props),loading:!1});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component||r.a.createElement("main",{className:"main-inner-wrapper"},r.a.createElement(O.Helmet,null,r.a.createElement("title",null,"HandShake- ",this.props.settings&&this.props.settings.title?this.props.settings.title:" ","  ")),r.a.createElement("div",{className:"container"}));return this.state.loading?r.a.createElement("div",{className:"page-loader"},r.a.createElement(w.a,null)):e}}]),n}(a.Component)}var k=n(8),E=(n(269),n(168)),y=(n(170),n(118)),x=(n(273),n(111)),N=n(44),S=(n(303),n(114)),I=n(14),C=n(10),U=n(15),D=S.a.Option,L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleLangChange=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(t);case 2:return e.next=4,n.setState({lang:t});case 4:return e.next=6,n.props.updateLanguage(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRedirect=function(){n.props.setPublicSearchPhase({searchKeyword:""}),f.a.push("/")},n.state={menuIsOpen:!1,searchIsOpen:!1,searchKeyword:"",lang:"eng"},n.menuHandler=n.menuHandler.bind(Object(N.a)(n)),n.menuItemHandler=n.menuItemHandler.bind(Object(N.a)(n)),n.searchHandler=n.searchHandler.bind(Object(N.a)(n)),n.searchStudios=n.searchStudios.bind(Object(N.a)(n)),n.searchOnChange=n.searchOnChange.bind(Object(N.a)(n)),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.logout();case 3:f.a.push("/");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({lang:Object(U.d)()});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.language,this.state.lang),this.props.language!==this.state.lang&&this.props.updateLanguage(this.state.lang);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"menuHandler",value:function(){this.setState({menuIsOpen:!this.state.menuIsOpen})}},{key:"menuItemHandler",value:function(){this.setState({menuIsOpen:!1})}},{key:"searchHandler",value:function(){this.setState({searchIsOpen:!this.state.searchIsOpen})}},{key:"searchOnChange",value:function(e){this.props.setPublicSearchPhase({searchKeyword:e.target.value})}},{key:"searchStudios",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Home"!==t.page||"Home"===this.props.page){e.next=5;break}if(e.t0=""!==this.props.searchKeyword,!e.t0){e.next=5;break}return e.next=5,this.props.setPublicSearchPhase({searchKeyword:""});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,n=r.a.createElement("div",{className:"header-profile-dropdown"},r.a.createElement("div",{className:"dropdown-header"},null!==t&&t.imgUrl?r.a.createElement("span",{className:"dp-block"},r.a.createElement("img",{src:t.imgUrl,alt:""})):r.a.createElement(x.a,{className:"dp-block profile-text-avatar"},t&&null!==t&&t.firstName?t.firstName.charAt(0).toUpperCase():"S"),r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:"name-block"},t&&null!==t&&t.firstName," ",t&&t.lastName),r.a.createElement("div",{className:"email-block"},t&&t.email))),r.a.createElement(I.a,{to:"/my-profile",className:"menu-item"},Object(C.a)("my_profile")),r.a.createElement(I.a,{to:"/my-studios",className:"menu-item"},Object(C.a)("my_studios")),r.a.createElement(I.a,{to:"/notifications",className:"menu-item"},Object(C.a)("notifications")),r.a.createElement(I.a,{to:"/cms/faq",className:"menu-item"},"FAQ-".concat(Object(C.a)("help"))),r.a.createElement(I.a,{to:"/",className:"menu-item signout-btn",onClick:this.logout.bind(this)},Object(C.a)("logout")));return r.a.createElement("header",{className:"main-header"},r.a.createElement("div",{className:"left-block"},"Home"!==this.props.page&&r.a.createElement("button",{className:"btn icon-arrow-left app-back-btn",onClick:function(){return f.a.goBack()}}),r.a.createElement("div",{style:{cursor:"pointer",display:"contents"},onClick:function(){return e.handleRedirect()},className:"logo-block"},r.a.createElement("img",{style:{marginTop:"-9px"},src:"/images/icon.png",alt:""}),r.a.createElement("h2",{style:{padding:"6px 12px 0px 1px",color:"#932068"}},"HandShake")),r.a.createElement("form",{className:"search-box".concat(this.state.searchIsOpen?" open":""),onSubmit:this.searchStudios},r.a.createElement("span",{className:"icon-search icon-block"}),r.a.createElement(y.a,{className:"input-block",placeholder:"".concat(Object(C.a)("wrd_try")," \u201cname of charity\u201d"),value:this.props.searchKeyword,onChange:this.searchOnChange}))),r.a.createElement("div",null),r.a.createElement("div",{className:"right-block"},r.a.createElement(S.a,{value:this.state.lang,onChange:function(t){return e.handleLangChange(t)},className:"language-select",dropdownClassName:"language-dropdown"},r.a.createElement(D,{value:"eng"},r.a.createElement("span",{className:"full-name"},"English"),r.a.createElement("span",{className:"short-name"},"Eng")),r.a.createElement(D,{value:"swd"},r.a.createElement("span",{className:"full-name"},"Swedish"),r.a.createElement("span",{className:"short-name"},"Swd"))),r.a.createElement("button",{className:"btn icon-search toggle-search-btn",type:"button",onClick:this.searchHandler}),r.a.createElement("button",{className:"btn icon-menu toggle-menu-btn",type:"button",onClick:this.menuHandler}),t&&t.email?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"main-nav".concat(this.state.menuIsOpen?" open":"")},r.a.createElement(I.a,{to:"/add-studio",onClick:this.menuItemHandler,className:"menu-item"},Object(C.a)("add_studio_label")),r.a.createElement(I.a,{to:"/messages",onClick:this.menuItemHandler,className:"menu-item"},Object(C.a)("messages_label"))),r.a.createElement("div",{className:"my-profile-menu"},r.a.createElement(E.a,{className:"dropdown-block",overlay:n},t.imgUrl?r.a.createElement("span",{className:"dp-block"},r.a.createElement("img",{src:t.imgUrl,alt:""})):r.a.createElement(x.a,{className:"dp-block profile-text-avatar"},t.firstName?t.firstName.charAt(0).toUpperCase():"S")))):r.a.createElement("nav",{className:"main-nav".concat(this.state.menuIsOpen?" open":"")},r.a.createElement(I.a,{onClick:this.menuItemHandler,to:"/add-studio",className:"menu-item"},Object(C.a)("add_studio_label")),r.a.createElement(I.a,{onClick:this.menuItemHandler,to:"/signup",className:"menu-item"},Object(C.a)("signup_label")),r.a.createElement(I.a,{onClick:this.menuItemHandler,to:"/login",className:"menu-item"},Object(C.a)("login_label")))))}}]),t}(r.a.Component),R=Object(m.b)((function(e){var t=e.user,n=e.studio;return Object(k.a)({},t,{},n)}),(function(e){var t=e.user,n=e.studio;return Object(k.a)({},t,{},n)}))(L),P=(n(175),n(124)),H=(n(172),n(83)),T=n(43),_=n.n(T),F=function(){return r.a.createElement("div",{className:"social-links"},r.a.createElement(I.a,{to:"/",className:"icon-instagram social-item"}),r.a.createElement(I.a,{to:"/",className:"icon-twitter social-item"}),r.a.createElement(I.a,{to:"/",className:"icon-facebook social-item"}),r.a.createElement(I.a,{to:"/",className:"icon-youtube social-item"}))},W=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("div",{className:"container"},r.a.createElement(P.a,{type:"flex",gutter:24},r.a.createElement(H.a,{xs:12,sm:12,md:5,lg:4},r.a.createElement("h3",{className:"title-block uppercase"},Object(C.a)("company")),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,r.a.createElement(I.a,{to:"/about"},Object(C.a)("about"))),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/contact"},Object(C.a)("contact"))),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/privacy"},Object(C.a)("privacy"))),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/terms"},Object(C.a)("terms"))))),r.a.createElement(H.a,{xs:12,sm:12,md:5,lg:4},r.a.createElement("h3",{className:"title-block uppercase"},Object(C.a)("learn_more")),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,r.a.createElement(I.a,{to:"/howitworks"},Object(C.a)("how_it_works"))),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/trustandsafety"},Object(C.a)("trust_and_safety"))),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/faq"},"FAQ- ".concat(Object(C.a)("help")))))),r.a.createElement(H.a,{xs:24,sm:24,lg:4},r.a.createElement("h3",{className:"title-block uppercase"},"Social"),r.a.createElement(F,null))),r.a.createElement("div",{className:"copy-right-block"},r.a.createElement("a",{target:"_blank",href:"https://vaut-enterprises.web.app/"},"   \xa9 VAUT Technologies ",_()().format("YYYY")))))}}]),t}(a.Component),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).refreshComp=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({refresh:!n.state.refresh});case 2:case"end":return e.stop()}}),e)}))),n.state={refresh:!1},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getLanguages(this.props.language);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.children,n=e.settings;return r.a.createElement(r.a.Fragment,null,n.topbar?r.a.createElement(R,{refreshComp:this.refreshComp,page:n.title,hideSearch:n.hideSearch}):null,r.a.createElement("div",{className:"app-body"},t),!1!==n.footer&&r.a.createElement(W,{refreshComp:this.refreshComp}))}}]),t}(a.Component),K=Object(m.b)((function(e){var t=e.user,n=e.studio;return Object(k.a)({},t,{},n)}),(function(e){var t=e.user,n=e.studio;return Object(k.a)({},t,{},n)}))(A),q=function(e){var t=e.component,n=e.layoutSettings,a=void 0===n?{}:n,c=Object(d.a)(e,["component","layoutSettings"]);return r.a.createElement(h.b,Object.assign({},c,{render:function(e){return Object(U.c)()?r.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(K,Object.assign({settings:a},e),r.a.createElement(t,Object.assign({},e,{settings:a})))}}))},G=function(e){var t=e.component,n=e.layoutSettings,a=void 0===n?{}:n,c=Object(d.a)(e,["component","layoutSettings"]);return r.a.createElement(h.b,Object.assign({},c,{render:function(e){return r.a.createElement(K,{settings:a},r.a.createElement(t,Object.assign({},e,{settings:a})))}}))},B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement(h.c,{history:e},r.a.createElement(h.d,null,r.a.createElement(q,{exact:!0,path:"/login",layoutSettings:{title:"Login",topbar:!1,footer:!1},component:j((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,426))}))}),r.a.createElement(q,{exact:!0,path:"/signup",layoutSettings:{title:"Signin",topbar:!1,footer:!1},component:j((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,424))}))}),r.a.createElement(q,{exact:!0,path:"/forgot-password",layoutSettings:{title:"Forgot password",topbar:!0},component:j((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,422))}))}),r.a.createElement(q,{exact:!0,path:"/reset-password",layoutSettings:{title:"Reset password",topbar:!1,footer:!1},component:j((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,425))}))}),r.a.createElement(G,{exact:!0,path:"/",layoutSettings:{title:"Home",topbar:!0,sidebar:!1},component:j((function(){return n.e(5).then(n.bind(null,423))}))}),r.a.createElement(h.b,{component:j((function(){return Promise.all([n.e(6),n.e(8)]).then(n.bind(null,421))}))})))}}]),t}(a.Component),J=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:f.b},r.a.createElement(B,{history:f.a,coords:this.props.coords}))}}]),t}(a.Component),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(299),n(300);o.a.render(r.a.createElement(J,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){var e=new URL("",window.location);if(e.origin!==window.location.origin)return void console.log(e.origin,window.location.origin);window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");M?(!function(e){fetch(e).then((function(t){console.log(e,t,"=========================================="),404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Q(e)}))}}()},54:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"user",(function(){return P})),n.d(a,"studio",(function(){return W}));var r=n(156),c=n(2),o=n.n(c),s=n(4),i=n(8),u=(n(190),n(169).a),l=function(e,t,n){u[e]({message:t,description:n})},p=n(25),m=n(26),f=(n(302),n(10)),d=n(57),h=n.n(d),b=(n(249),n(251),n(254),h.a.initializeApp({apiKey:"AIzaSyB_ylaQk5Ti2A97iBP-nNZBi6jnd9jkD-k",authDomain:"handshake-362ff.firebaseapp.com",databaseURL:"https://handshake-362ff.firebaseio.com",projectId:"handshake-362ff",storageBucket:"handshake-362ff.appspot.com",messagingSenderId:"19521589112",appId:"1:19521589112:web:e1d89e7ff20dd27931828d",measurementId:"G-7M09K44HPB"})),g=b.firestore();n(43);function v(e){return g.collection("users").doc(Object(f.c)(e.email)).set(e)}function O(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.collection("users").doc(Object(f.c)(t.email)),e.abrupt("return",n.update({Dob:t.dob,Fname:t.fname,Lname:t.lname}).then((function(e){return t})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=h.a.storage(),n=e.files;return new Promise((function(a,r){t.ref("/user/".concat(e.userId,"/profile")).put(n.originFileObj).then((function(n){console.log("Got download url: ",n),t.ref("/user/".concat(e.userId,"/profile")).getDownloadURL().then(function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.collection("users").doc(e.userId).update({imageUrl:n}).then((function(e){return a(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(e){throw r(e),e}))}))}function k(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=g.collection("users").doc(t).collection("Notifications"),e.next=4,a.get().then((function(e){e.forEach((function(e){n.push(Object(i.a)({id:e.id},e.data()))}))})).catch((function(e){throw e}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=g.collection("users").doc(t.docKey).collection("Notifications").doc(t.id),e.next=4,a.get().then((function(e){n=Object(i.a)({id:e.id},e.data())})).catch((function(e){throw e}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").doc(t.userId).collection("ratings").doc(t.studioId).set(t).then(function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("studios").doc(t.studioId).collection("ratings").doc(t.userId).set(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").doc(t.userId).collection("ratings").doc(t.studioId).get().then((function(e){return e.data()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=g.collection("devices")).where("pushToken","==",t.token).get().then((function(e){e.empty||e.forEach((function(e){n.doc(e.id).delete()}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(15);n(72);console.log(h.a.messaging.isSupported(),"================="),h.a.messaging.isSupported();var R=function(){function e(){Object(p.a)(this,e)}return Object(m.a)(e,null,[{key:"deleteFcmToken",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null.getToken();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"mountFcm",value:function(){navigator.serviceWorker.addEventListener("message",function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.success("".concat(t.data["firebase-messaging-msg-data"].notification.body));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}(),P={state:{user:Object(L.b)()||{},loading:!1,imgUrl:"",userRating:0,warningDetail:{},warnings:[]},reducers:{onRequest:function(e){return Object(i.a)({},e,{loading:!0})},onError:function(e,t){return l("error",t.message),Object(i.a)({},e,{loading:!1})},onLoginSuccess:function(e,t){return Object(i.a)({},e,{loading:!1,user:Object(L.b)(),imgUrl:t.user.imageUrl?t.user.imageUrl:""})},onLogoutSuccess:function(e){return Object(i.a)({},e,{user:null})},onUpdateSuccess:function(e,t){return l("success","User Details Updated"),Object(i.a)({},e,{user:Object(L.b)()||{}})},onForgotSuccess:function(e){return l("info","An Email has been sent"),Object(i.a)({},e)},updateLng:function(e,t){return Object(i.a)({},e)},onUpload:function(e,t){return Object(i.a)({},e,{imgUrl:t})},onGetWarnings:function(e,t){return Object(i.a)({},e,{loading:!1,warnings:t})},onGetWarningDetail:function(e,t){return Object(i.a)({},e,{loading:!1,warningDetail:t})},onGotUserRating:function(e,t){return Object(i.a)({},e,{loading:!1,userRating:t?t.rating:0})}},effects:{login:function(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){var a,r,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.onRequest(),t.prev=1,a={},r={},t.next=6,b.auth().signInWithEmailAndPassword(e.email,e.password);case 6:return c=t.sent,a.user={email:c.user.email,name:c.Fname+c.Lname?c.Lname:""},t.next=10,b.auth().onAuthStateChanged(function(){var t=Object(s.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=20;break}return console.log(c,"----"),t.next=4,c.getIdToken(!0);case 4:return a.accessToken=t.sent,a.refreshToken=c.refreshToken,t.next=8,o=e.email,g.collection("users").doc(Object(f.c)(o)).get().then((function(e){return e.exists?e.data():{}})).catch((function(e){throw e}));case 8:return r=t.sent,console.log("hey user ====",r),r.Dob=r&&r.Dob&&r.Dob.toDate(),a.user.Dob=r.Dob,a.user.firstName=r.Fname,a.user.lastName=r.Lname,a.user.imgUrl=r.imageUrl,t.next=17,Object(L.e)(a);case 17:return R.mountFcm(),n.onLoginSuccess({user:r}),t.abrupt("return",a);case 20:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:return i=t.sent,t.next=13,i();case 13:return t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(1),t.t0.message="Invalid credentials",n.onError(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))()},logout:function(){var e=this;return Object(s.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Object(L.b)().fcm)){t.next=4;break}return t.next=4,U({token:n});case 4:return t.next=6,b.auth().signOut().then(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).catch((function(t){return e.onError(t)}));case 6:e.onLogoutSuccess();case 7:case"end":return t.stop()}}),t)})))()},updateInformation:function(e,t){var n=this;return Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.onRequest(),e.abrupt("return");case 5:throw e.prev=5,e.t0=e.catch(0),n.onError(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))()},registerUser:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.onRequest(),n.prev=1,n.next=4,b.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(delete e.password,!a.user){n.next=10;break}return r={user:{email:e.email,Dob:e.Dob,firstName:e.Fname,lastName:e.Lname}},n.next=5,b.auth().onAuthStateChanged(function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.next=3,n.getIdToken(!0);case 3:r.accessToken=t.sent;case 4:return n&&(e.uid=n.uid),t.next=7,v(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return n.next=7,Object(L.e)(r);case 7:return R.mountFcm(),t.onLoginSuccess(a),n.abrupt("return",a);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){t.onError(e)}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),t.onError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},firebaseForgetPassword:function(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.onRequest(),t.prev=1,t.next=4,b.auth().sendPasswordResetEmail(e.email).then((function(){return n.onForgotSuccess(!0),!0})).catch((function(){var e={message:"Invalid Email"};return n.onError(e),!1}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n.onError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},updateProfile:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={user:{}},n.prev=1,n.next=4,O(e);case 4:return(r=n.sent).Dob=r&&r.dob&&r.dob,a.user.Dob=r.Dob,a.user.firstName=r.fname,a.user.lastName=r.lname,n.next=11,Object(L.h)(a);case 11:return t.onUpdateSuccess(r),n.abrupt("return");case 15:n.prev=15,n.t0=n.catch(1),t.onError(n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,15]])})))()},uploadProfileImage:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(a=j(e)).then(function(){var e=Object(s.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.h)({user:{imgUrl:n}});case 2:t.onUpload(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.abrupt("return",a);case 6:n.prev=6,n.t0=n.catch(0),t.onError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},getWarnings:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,k(e);case 4:a=n.sent,t.onGetWarnings(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getWarningDetail:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,y(e);case 4:a=n.sent,t.onGetWarningDetail(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getRating:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.onRequest(),n.next=4,I(e);case 4:a=n.sent,t.onGotUserRating(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.onError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},updateRating:function(e){return Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t)})))()}}};n(138);function H(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=[],r=[],c="",c=g.collection("studios"),t.userId&&(c=c.where("ownerId","==",t.userId)),t.studioType&&(c=c.where("studioType","array-contains",t.studioType)),e.next=9,c.orderBy("Hourlyrate").get().then((function(e){return e.forEach((function(e){e.data().id=e.id,n.push({id:e.id,data:e.data()}),r.push(e.ref.collection("English").get())})),Promise.all(r)})).then(function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.forEach((function(e,t){e.forEach((function(e){var r=n[t];r=r&&r.data,a.push({id:n[t].id,data:Object(i.a)({},e.data(),{},r)})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("ERROR===>",e)}));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,g.collection("staticData").get().then((function(e){e.forEach((function(e){t.push({key:e.id,data:e.data()})}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W={state:{studios:{},studio:{},myRequests:[],myBookings:[],studioDetails:{},myStudios:[],loading:!1,onGoingBooking:{},onGoingProcess:{step:0},includedServices:{},language:Object(L.d)()||"eng",currUsrLoc:{},searchKeyword:""},reducers:{onRequest:function(e){return Object(i.a)({},e,{loading:!0})},onError:function(e,t){return l("error",t.message),Object(i.a)({},e,{loading:!1})},onListStudio:function(e,t){return Object(i.a)({},e,{loading:!1,studios:t})},onClearStore:function(e){return Object(i.a)({},e,{onGoingProcess:{step:0},studioDetails:{}})},updateLng:function(e,t){return Object(i.a)({},e,{language:t})},onSetCurrLoc:function(e,t){return Object(i.a)({},e,{currUsrLoc:t})},setSearchKey:function(e,t){return Object(i.a)({},e,{searchKeyword:t.searchKeyword})}},effects:{listStudios:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return Object(s.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.onRequest(),n.prev=1,n.next=4,H(t);case 4:return a=n.sent,e.onListStudio(a),console.log(a,"at model"),n.abrupt("return");case 10:n.prev=10,n.t0=n.catch(1),e.onError(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},getLanguages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng";arguments.length>1&&arguments[1];return Object(s.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:return n=t.sent,Object(L.g)(n),console.log("AT MODEL STUDIO",e),Object(L.f)(e),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()},clearStore:function(e,t){var n=this;return Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.onClearStore(),e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))()},updateLanguage:function(e,t){var n=this;return Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.updateLng(e);case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})))()},setCurrLoc:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.onSetCurrLoc(e),n.abrupt("return");case 2:case"end":return n.stop()}}),n)})))()},setPublicSearchPhase:function(e){var t=this;return Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setSearchKey(e),n.abrupt("return");case 2:case"end":return n.stop()}}),n)})))()}}},A=n(27),K=n(160);n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return q}));var q=Object(A.a)();q.listen((function(e,t){window.scrollTo(0,0)}));var G=[Object(K.routerMiddleware)(q)],B=Object(r.init)({redux:{devtoolOptions:{disabled:!0},middlewares:G},models:a})},72:function(e,t,n){"use strict";var a=n(8),r={routes:{home:"/"},logoURL:"",defaultLimit:10,api:"".concat("","/v1")};t.a=Object(a.a)({},r,{},{cookies:{name:"handshake",language:"lng",expiry:7,domain:""}})}},[[180,2,3]]]);